window.popBerryHelper=window.popBerryHelper||{};(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}if(typeof define==="function"&&define.cmd){define(function(require,exports,module){var jQuery=require("jquery");factory(jQuery)})}else{factory((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function($){function getParametersFromUrl(url){var paramters={};var queryString=getQueryString(url)}popBerryHelper={getCleanUrl:function(url){var arry=url.split("?");return arry[0]},getQueryString:function(url){var arry=url.split("?");var queryString="";if(arry.length>1){var queryString=arry[1]}return queryString},getParametersFromUrl:function(url){var parameters={};var queryString=this.getQueryString(url);var keyValue=queryString.split("&");for(var i=0;i<keyValue.length;i++){var strings=keyValue[i].split("=");var value="";if(strings.length>1){value=strings[1]}parameters[strings[0]]=value}return parameters},bindCheckboxRegion:function(options){var defaultOptions={doCheck:function(jqueryArray,thisObj){jqueryArray.attr("checked",true);jqueryArray.prop("checked",true)},cancel:function(jqueryArray,thisObj){jqueryArray.attr("checked",false);jqueryArray.prop("checked",false)}};$.extend(true,defaultOptions,options);$(":checkbox[targetBox]").on("click","",function(){var targetBoxName=$(this).attr("targetBox");var jqueryArray=$("[targetName='"+targetBoxName+"']");if($(this).is(":checked")){defaultOptions.doCheck(jqueryArray,$(this))}else{defaultOptions.cancel(jqueryArray,$(this))}})},str2JsonObj:function(strJson){var jsonObj=$.parseJSON(strJson);return jsonObj},checkIfNull:function(inputObject,forName,message,options){var that=this;var defaultOptions={isNull:function(forName,message){that.addErrorMessage(forName,message)},notNull:function(forName,message){}};$.extend(true,defaultOptions,options);var isValid=true;if(inputObject.val().replace(/\s/g,"").length==0){defaultOptions.isNull(forName,message);isValid=false}else{defaultOptions.notNull(forName,message)}return isValid},checkNumber:function(content,options){var that=this;var isValid=true;var defaultOptions={max:-999999,min:-999999,before:function(content){},notNum:function(content){},bigger:function(content){},smaller:function(content){},success:function(content){}};$.extend(true,defaultOptions,options);if(isNaN(content)){isValid=false;defaultOptions.notNum(content)}else{var contentToNum=parseInt(content);if(defaultOptions.max!=-999999){if(contentToNum>defaultOptions.max){isValid=false;defaultOptions.bigger(content)}}if(defaultOptions.min!=-999999){if(contentToNum<=defaultOptions.min){isValid=false;defaultOptions.smaller(content)}}}if(isValid){defaultOptions.success(content)}return isValid},checkWordNumber:function(content,options){var that=this;var isValid=true;var defaultOptions={max:400,min:10,before:function(content){},getContentLength:function(content){return content.length},bigger:function(content){},smaller:function(content){},success:function(content){}};$.extend(true,defaultOptions,options);var length=defaultOptions.getContentLength(content);if(defaultOptions.max>0){if(length>defaultOptions.max){isValid=false;defaultOptions.bigger(content)}}if(defaultOptions.min>0){if(length<defaultOptions.min){isValid=false;defaultOptions.smaller(content)}}if(isValid){defaultOptions.success(content)}return isValid},addMessage:function(forName,message,options){var tipsObj=$('[tip-message-for="'+forName+'"]');var defaultOptions={success:function(){}};$.extend(true,defaultOptions,options);tipsObj.html(message);defaultOptions.success()},addErrorMessage:function(forName,message,options){var that=this;var tipsObj=$('[tip-message-for="'+forName+'"]');var defaultOptions={success:function(){tipsObj.fadeIn()}};$.extend(true,defaultOptions,options);that.addMessage(forName,message,defaultOptions)},addSuccessMessage:function(forName,message,options){var that=this;var tipsObj=$('[tip-message-for="'+forName+'"]');var defaultOptions={success:function(){tipsObj.fadeOut()}};$.extend(true,defaultOptions,options);that.addMessage(forName,message,defaultOptions)}}}));